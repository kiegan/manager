<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adaptive Computational Reproducibility Tools for R • manager</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Adaptive Computational Reproducibility Tools for R">
<meta property="og:description" content="This package is provides tools to users to take, visualize, and store package dependency inventories as well as compare package inventories across users, machines, or time. 
    Comparison of package inventories allows users to quickly identify specific changes to objects in R packages used in data analyses. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">manager</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of manager is to provide users with tools to use an adaptive computational reproducibility in their data projects. Adaptive computational reproducibility uses a two-step approach:</p>
<ol style="list-style-type: decimal">
<li>Define and refine the extent of package dependencies used in a script or project.<br>
</li>
<li>Compare package inventories across machines, users, and time to identify changes in functions and objects.</li>
</ol>
<p>This is accomplished using package <em>inventories</em>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># install.packages("remotes")</span></a>
<a class="sourceLine" id="cb1-2" title="2">remotes<span class="op">::</span><span class="kw"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"kiegan/manager"</span>)</a></code></pre></div>
</div>
<div id="take-package-inventory" class="section level2">
<h2 class="hasAnchor">
<a href="#take-package-inventory" class="anchor"></a>Take Package Inventory</h2>
<p>We can first take a package inventory for a given set of packages, and visualize the dependency tree implicit when calling that set of packages.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(manager)</a>
<a class="sourceLine" id="cb2-2" title="2">project_inventory &lt;-<span class="st"> </span><span class="kw"><a href="reference/take_inventory.html">take_inventory</a></span>(<span class="dt">packages =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"tidyr"</span>, <span class="st">"stringr"</span>, </a>
<a class="sourceLine" id="cb2-3" title="3">                                                 <span class="st">"purrr"</span>, <span class="st">"dplyr"</span>, </a>
<a class="sourceLine" id="cb2-4" title="4">                                                 <span class="st">"randomForest"</span>)) </a>
<a class="sourceLine" id="cb2-5" title="5"><span class="kw"><a href="reference/plot_inventory.html">plot_inventory</a></span>(project_inventory)</a></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-2-1.png" width="100%"></p>
<p>The set of packages at the top of the graphic represent “explicit” package dependencies, which are the packages we want to keep track of. All subsequent layers are “implicit” package dependencies, which arise from calling the set of explicit dependencies.</p>
<p>We can also store these inventories:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw"><a href="reference/store_inventory.html">store_inventory</a></span>(project_inventory, <span class="dt">filepath =</span> <span class="st">"path/to/storage/folder/inventory.rda"</span>)</a></code></pre></div>
<p>Taking and storing an inventory allows for:</p>
<ul>
<li>Comparison with updated inventories at a later date<br>
</li>
<li>Sending to team members/collaborators to compare differences across users and machines</li>
</ul>
</div>
<div id="compare-package-inventories" class="section level2">
<h2 class="hasAnchor">
<a href="#compare-package-inventories" class="anchor"></a>Compare Package Inventories</h2>
<p>Suppose a colleague sends me their inventory of the same set of packages so we can identify differences. I can load that as “userB_inventory” using the <code><a href="https://www.rdocumentation.org/packages/base/topics/readRDS">readRDS()</a></code> function and compare the two:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">ab_compare &lt;-<span class="st"> </span><span class="kw"><a href="reference/compare_inventory.html">compare_inventory</a></span>(<span class="dt">inventory1 =</span> project_inventory,</a>
<a class="sourceLine" id="cb4-2" title="2">                                   <span class="dt">inventory2 =</span> userB_inventory,</a>
<a class="sourceLine" id="cb4-3" title="3">                                   <span class="dt">summary_file =</span> <span class="st">"data/ab_compare.txt"</span>)</a></code></pre></div>
<p>We can then investigate identified differences between the two inventories using the object <code>ab_compare</code> and the summary text file generated at the <code>summary_file</code> filepath. The summary is printed in the console if no filepath is provided.</p>
<p>The <code>$table</code> element provides a summary table of changed objects and descriptive characteristics of the differences between objects. There is one row for every object which differs between the two inventories.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(ab_compare<span class="op">$</span>table)</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co">#&gt; # A tibble: 6 x 6</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">#&gt;   package_name object_name object_presence  object_changes  obj_same params_same</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           &lt;lgl&gt;    &lt;lgl&gt;      </span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">#&gt; 1 cli          is_ansi_tty Object in both … Objects change… FALSE    TRUE       </span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">#&gt; 2 digest       digest      Object in both … Objects change… FALSE    TRUE       </span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="co">#&gt; 3 dplyr        contains    Object in both … Both object an… FALSE    FALSE      </span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="co">#&gt; 4 dplyr        ends_with   Object in both … Both object an… FALSE    FALSE      </span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="co">#&gt; 5 dplyr        enquos      Object in both … Objects change… FALSE    TRUE       </span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="co">#&gt; 6 dplyr        everything  Object in both … Both object an… FALSE    FALSE</span></a></code></pre></div>
<p>The <code>$objects</code> element contains the same information as <code>$table</code>, but additionally provides more detail, including the deparsed objects for each of the provided inventories for direct comparison. The deparsed objects are found in the <code>function_text_inv1</code> and <code>function_text_inv2</code> columns.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(ab_compare<span class="op">$</span>objects)</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="co">#&gt; # A tibble: 6 x 22</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co">#&gt;   package_name object_name object_presence object_changes obj_same params_same</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;           &lt;chr&gt;          &lt;lgl&gt;    &lt;lgl&gt;      </span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="co">#&gt; 1 cli          is_ansi_tty Object in both… Objects chang… FALSE    TRUE       </span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="co">#&gt; 2 digest       digest      Object in both… Objects chang… FALSE    TRUE       </span></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="co">#&gt; 3 dplyr        contains    Object in both… Both object a… FALSE    FALSE      </span></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="co">#&gt; 4 dplyr        ends_with   Object in both… Both object a… FALSE    FALSE      </span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="co">#&gt; 5 dplyr        enquos      Object in both… Objects chang… FALSE    TRUE       </span></a>
<a class="sourceLine" id="cb6-10" title="10"><span class="co">#&gt; 6 dplyr        everything  Object in both… Both object a… FALSE    FALSE      </span></a>
<a class="sourceLine" id="cb6-11" title="11"><span class="co">#&gt; # … with 16 more variables: package_source_inv1 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb6-12" title="12"><span class="co">#&gt; #   package_version_inv1 &lt;chr&gt;, package_gitrepo_inv1 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb6-13" title="13"><span class="co">#&gt; #   package_gitcommit_inv1 &lt;chr&gt;, function_text_inv1 &lt;list&gt;,</span></a>
<a class="sourceLine" id="cb6-14" title="14"><span class="co">#&gt; #   fun_params_inv1 &lt;list&gt;, obj_checksum_inv1 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb6-15" title="15"><span class="co">#&gt; #   params_checksum_inv1 &lt;chr&gt;, package_source_inv2 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb6-16" title="16"><span class="co">#&gt; #   package_version_inv2 &lt;chr&gt;, package_gitrepo_inv2 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb6-17" title="17"><span class="co">#&gt; #   package_gitcommit_inv2 &lt;chr&gt;, function_text_inv2 &lt;list&gt;,</span></a>
<a class="sourceLine" id="cb6-18" title="18"><span class="co">#&gt; #   fun_params_inv2 &lt;list&gt;, obj_checksum_inv2 &lt;chr&gt;, params_checksum_inv2 &lt;chr&gt;</span></a></code></pre></div>
<p>We can now compare the deparsed text of the function across two inventories:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">ab_compare<span class="op">$</span>objects <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(package_name <span class="op">==</span><span class="st"> "dplyr"</span>, object_name <span class="op">==</span><span class="st"> "contains"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="st">  </span><span class="kw">pull</span>(function_text_inv1)</a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co">#&gt; [1] "function (match, ignore.case = TRUE, vars = peek_vars(fn = \"contains\")) "</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co">#&gt; [2] "{"                                                                         </span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="co">#&gt; [3] "    check_match(match)"                                                    </span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="co">#&gt; [4] "    if (ignore.case) {"                                                    </span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="co">#&gt; [5] "        vars &lt;- tolower(vars)"                                             </span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="co">#&gt; [6] "        match &lt;- tolower(match)"                                           </span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="co">#&gt; [7] "    }"                                                                     </span></a>
<a class="sourceLine" id="cb7-12" title="12"><span class="co">#&gt; [8] "    flat_map_int(match, grep_vars, vars, fixed = TRUE)"                    </span></a>
<a class="sourceLine" id="cb7-13" title="13"><span class="co">#&gt; [9] "}"</span></a>
<a class="sourceLine" id="cb7-14" title="14">ab_compare<span class="op">$</span>objects <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-15" title="15"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(package_name <span class="op">==</span><span class="st"> "dplyr"</span>, object_name <span class="op">==</span><span class="st"> "contains"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-16" title="16"><span class="st">  </span><span class="kw">pull</span>(function_text_inv2)</a>
<a class="sourceLine" id="cb7-17" title="17"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb7-18" title="18"><span class="co">#&gt; [1] "function (match, ignore.case = TRUE, vars = peek_vars()) "</span></a>
<a class="sourceLine" id="cb7-19" title="19"><span class="co">#&gt; [2] "{"                                                        </span></a>
<a class="sourceLine" id="cb7-20" title="20"><span class="co">#&gt; [3] "    stopifnot(is_string(match), nchar(match) &gt; 0)"        </span></a>
<a class="sourceLine" id="cb7-21" title="21"><span class="co">#&gt; [4] "    if (ignore.case) {"                                   </span></a>
<a class="sourceLine" id="cb7-22" title="22"><span class="co">#&gt; [5] "        vars &lt;- tolower(vars)"                            </span></a>
<a class="sourceLine" id="cb7-23" title="23"><span class="co">#&gt; [6] "        match &lt;- tolower(match)"                          </span></a>
<a class="sourceLine" id="cb7-24" title="24"><span class="co">#&gt; [7] "    }"                                                    </span></a>
<a class="sourceLine" id="cb7-25" title="25"><span class="co">#&gt; [8] "    grep_vars(match, vars, fixed = TRUE)"                 </span></a>
<a class="sourceLine" id="cb7-26" title="26"><span class="co">#&gt; [9] "}"</span></a></code></pre></div>
</div>
<div id="search-a-script-for-objects-which-differ" class="section level2">
<h2 class="hasAnchor">
<a href="#search-a-script-for-objects-which-differ" class="anchor"></a>Search a Script for Objects Which Differ</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw"><a href="reference/script_check.html">script_check</a></span>(<span class="dt">compare_object =</span> ab_compare, </a>
<a class="sourceLine" id="cb8-2" title="2">             <span class="dt">script_filepath =</span> <span class="st">"path/to/R/script.R"</span>) <span class="co"># for an .R script </span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="kw"><a href="reference/script_check.html">script_check</a></span>(<span class="dt">compare_object =</span> ab_compare, </a>
<a class="sourceLine" id="cb8-4" title="4">             <span class="dt">script_filepath =</span> <span class="st">"path/to/R/script.Rmd"</span>, </a>
<a class="sourceLine" id="cb8-5" title="5">             <span class="dt">is_R_script =</span> F) <span class="co"># function will convert .Rmd, .Rnw to .R before parsing  </span></a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Kiegan Rice <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>


      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Kiegan Rice.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
